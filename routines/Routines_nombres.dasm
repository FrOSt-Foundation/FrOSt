; (jsr) reverseAB
; A=B, B=A
:reverseab
set push,c
set c,a
set a,b
set b,c
set c,pop
set pc,pop

; (jsr) pgcd A,B
; return z
:pgcd
set z,0
ife a,0
	set pc,pgcd_end
ife b,0
	set pc,pgcd_end
set push,a
set push,b
set push,c
ifg b,a
	jsr reverseab
set c,a
:pgcd_loop

mod c,b
ife c,0
	set pc,pgcd_setzb
set a,b
set b,c
set pc,pgcd_loop
:pgcd_setzb
set z,b
:pgcd_end
set c,pop
set b,pop
set a,pop
set pc,pop
